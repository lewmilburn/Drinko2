function StartGame(){Log("StartGame","started",4),ShowScreen(6,3);for(let e=0;e<=Players.length;e++)void 0===Object.keys(Players)[e]&&delete Players.undefined;NextRound(),Log("StartGame","ended",4)}function EndGame(){Log("EndGame","started",4),ShowScreen(3,4);let e=document.getElementById("Leaderboard");Object.keys(Players).forEach((function(t){let n=Players[t];null===e.innerHTML?e.innerHTML="<li>"+t+" "+n+"</li>":e.innerHTML=e.innerHTML+"<li>"+t+" "+n+"</li>"})),Log("EndGame","ended",4)}function NextRound(){Log("NextRound","started",4);let e=document.getElementById("GamemodeText");e.innerText=Gamemode,e.classList.contains("hidden")&&e.classList.remove("hidden");let t=document.getElementById("RoundCounter");Round+=1,"-1"===MaxRounds?(t.innerText=Round,LoadNextRound()):MaxRounds>=Round?(t.innerText=Round+"/"+MaxRounds,LoadNextRound()):EndGame(),Log("NextRound","ended",4)}function LoadNextRound(){Log("LoadNextRound","started",4),!0===NextCanSkip?ShowScreen(3,7):ShowScreen(7,3),NextMode=null,NextCanSkip=null,NextMessage=null,NextSubmessage=null,NextOptionOne=null,NextOptionOneColour=null,NextOptionOneValue=null,NextOptionTwo=null,NextOptionTwoColour=null,NextOptionTwoValue=null;let e=document.getElementById("Message"),t=document.getElementById("Submessage"),n=document.getElementById("PlayerName");GetRandomPlayer(),GetRandomQuestion(),1===NextMode?n.innerHTML=NextPlayer:2===NextMode&&(n.innerHTML=NextPlayer+" and "+NextSecondPlayer),e.innerHTML=NextMessage,t.innerHTML=NextSubmessage,SetOption("OptionOne",NextOptionOne,NextOptionOneColour),SetOption("OptionTwo",NextOptionTwo,NextOptionTwoColour),Turns[NextPlayer]++,2===NextMode&&Turns[NextSecondPlayer]++,Log("LoadNextRound","ended",4)}function Answer(e){Log("Answer","started",4),ShowScreen(3,5);let t=document.getElementById("Punishment");if(1===NextMode||void 0===NextMode?(document.getElementById("PlayerNamePunishment").innerText=NextPlayer,void 0===NextMode&&Log("Answer","Mode is undefined. Type:"+NextTypeID+" Question:"+NextQuestionID)):2===NextMode&&(document.getElementById("PlayerNamePunishment").innerText=NextPlayer+" and "+NextSecondPlayer),-1===NextOptionOneValue&&(NextOptionOneValue=Math.floor(10*Math.random())),-1===NextOptionTwoValue&&(NextOptionTwoValue=Math.floor(10*Math.random())),1===e){if(0===NextOptionOneValue)return void NextRound();if(1===NextOptionOneValue?t.innerText="Drink "+NextOptionOneValue+" sip.":t.innerText="Drink "+NextOptionOneValue+" sips.",1===NextMode){let e=NextPlayer+": "+Players[NextPlayer]+" +"+NextOptionOneValue,t=NextPlayer+": "+(Players[NextPlayer]+NextOptionOneValue);PlayerScorePopupDelay(e,t,2e3,3e3),LeaderboardAdd(NextPlayer,NextOptionOneValue)}else if(2===NextMode){let e=NextPlayer+": "+Players[NextPlayer]+" + "+NextOptionOneValue+"\n"+NextSecondPlayer+": "+Players[NextSecondPlayer]+" + "+NextOptionOneValue,t=NextPlayer+": "+(Players[NextPlayer]+NextOptionOneValue)+"\n"+NextSecondPlayer+": "+(Players[NextSecondPlayer]+NextOptionOneValue);PlayerScorePopupDelay(e,t,2e3,3e3),LeaderboardAdd(NextPlayer,NextOptionOneValue),LeaderboardAdd(NextSecondPlayer,NextOptionOneValue)}}else if(2===e){if(0===NextOptionTwoValue)return void NextRound();if(1===NextOptionTwoValue?t.innerText="Drink "+NextOptionTwoValue+" sip.":t.innerText="Drink "+NextOptionTwoValue+" sips.",1===NextMode){let e=NextPlayer+": "+Players[NextPlayer]+" +"+NextOptionTwoValue,t=NextPlayer+": "+(Players[NextPlayer]+NextOptionTwoValue);PlayerScorePopupDelay(e,t,2e3,3e3),LeaderboardAdd(NextPlayer,NextOptionTwoValue)}else if(2===NextMode){let e=NextPlayer+": "+Players[NextPlayer]+" + "+NextOptionTwoValue+"\n"+NextSecondPlayer+": "+Players[NextSecondPlayer]+" + "+NextOptionTwoValue,t=NextPlayer+": "+(Players[NextPlayer]+NextOptionTwoValue)+"\n"+NextSecondPlayer+": "+(Players[NextSecondPlayer]+NextOptionTwoValue);PlayerScorePopupDelay(e,t,2e3,3e3),LeaderboardAdd(NextPlayer,NextOptionTwoValue),LeaderboardAdd(NextSecondPlayer,NextOptionTwoValue)}}Log("Answer","ended",4)}
